# Run

$ python imdb.py

# Test
### Чтобы протестировать примеры:

$ pytest test.py

# Реализация:

Для реализации основных запросов к простой БД в оперативной памяти будем использовать структуры dict и list для хранения пар ключ-значение и транзакций соответсвенно. 
Транзакции представляют собой массив словарей. 

Команды: 
- SET(name, value): сохраняет в dict значение по ключу и добавляет в транзакции в последний словарь новую пару ключ-значение
- GET(name): возвращает значение по ключу, если ключ пристутсвует в dict
- UNSET(name): добавляет в транзакции в последний словарь новую пару ключ-значение и присваивает в dict значению переменной None 
- COUNTS(value): считает по dict количество запрошенных значений 

Транзакции:
- BEGIN: добавляет в транзакции пустой словарь для пар ключ-значение
- ROLLBACK: в словарь пары ключ-значение для данной переменной устанавливает значение из последней транзакции
- COMMIT: очищает list транзакций 

# Преимущества и недостатки реализации: 
Преимущества реализации: 

- Малые затраты памяти: 
    - все данные хранятся в list и dict
    - все возможные команды не хранятся

- если приходит неизвестная команда (например, опечатка), то ошибка не поднимается и программа продолжает выполнятся дальше в нормальном режиме
- обработка EOF
- транзакции выполнены эффективно: при выполнении ROLLBACK list очищается, и мы не храним более ненужные нам данные
- доступ к dict, на котром реализованно хранение пар ключ-значение имеет доступ O(1)


Недостатки реализации: 
- можно оптимизировать длинные названия ключей, например алгоритмом Хаффмана (или LZW)
- можно добавить логирование для ошибок, чтобы потом иметь возможность их просмотреть 